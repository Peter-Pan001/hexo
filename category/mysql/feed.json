{
    "version": "https://jsonfeed.org/version/1",
    "title": "理 想 净 土 • All posts by \"mysql\" category",
    "description": "不必匆忙，不必火花四溅，不必成为别人，只需成为自己",
    "home_page_url": "https://peter-pan001.github.io/my-blog",
    "items": [
        {
            "id": "https://peter-pan001.github.io/my-blog/MySQL/MySQL%E8%BF%9B%E9%98%B6",
            "url": "https://peter-pan001.github.io/my-blog/MySQL/MySQL%E8%BF%9B%E9%98%B6",
            "title": "MySQL进阶",
            "date_published": "2021-01-18T08:57:59.000Z",
            "content_html": "<h2 id=\"事务transaction\"><a class=\"markdownIt-Anchor\" href=\"#事务transaction\">#</a> 事务 (transaction)</h2>\n<h3 id=\"何为事务\"><a class=\"markdownIt-Anchor\" href=\"#何为事务\">#</a> 何为事务？</h3>\n<ul>\n<li>一般是指要做的或所做的事情。在计算机术语中是指访问并可能更新数据库中各种数据项的一个程序执行单元 (unit)。在计算机术语中，事务通常就是指数据库事务。</li>\n</ul>\n<h3 id=\"事务在数据库的作用\"><a class=\"markdownIt-Anchor\" href=\"#事务在数据库的作用\">#</a> 事务在数据库的作用</h3>\n<ul>\n<li>一个数据库事务通常包含对数据库进行读或写的一个操作序列。它的存在包含有以下两个目的：\n<ul>\n<li><mark>1、为数据库操作提供了一个从失败中恢复到正常状态的方法，同时提供了数据库即使在异常状态下仍能保持一致性的方法。</mark></li>\n<li><mark>2、当多个应用程序在并发访问数据库时，可以在这些应用程序之间提供一个隔离方法，以防止彼此的操作互相干扰。</mark></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"事务的四大原则\"><a class=\"markdownIt-Anchor\" href=\"#事务的四大原则\">#</a> 事务的四大原则</h3>\n<h4 id=\"原子性atomicity\"><a class=\"markdownIt-Anchor\" href=\"#原子性atomicity\">#</a> 原子性 (Atomicity)</h4>\n<ul>\n<li>原子性保证将每个事务视为一个单独的 “单元”，它<mark>要么完全成功，要么完全失败</mark>：如果构成事务的任何语句未能完成，则整个事务都会失败，并且数据库将保持不变。</li>\n<li>例如：用户 A 给用户 B 进行银行转账，数据库要确保这一事务的两个操作都成功：这两个操作即 A 成功转账给 B，B 成功收到 A 的转账。两个操作缺少一个就失败，这两个操作可看成一个事务。</li>\n</ul>\n<h4 id=\"一致性consistency\"><a class=\"markdownIt-Anchor\" href=\"#一致性consistency\">#</a> 一致性 (Consistency)</h4>\n<ul>\n<li>事务应确保数据库的状态从一个一致状态转变为另一个一致状态。一致状态的含义是数据库中的数据应满足完整性约束。</li>\n<li>例如：用户 A 给用户 B 转账前与转账后，双方的总资产保持不变，即转账事务前后的一致性。</li>\n</ul>\n<h4 id=\"隔离性isolation\"><a class=\"markdownIt-Anchor\" href=\"#隔离性isolation\">#</a> 隔离性 (Isolation)</h4>\n<ul>\n<li>多个事务并发时，一个事务不会影响到另一个事务。</li>\n<li>例如：用户 B 同时受到用户 A 与 C 的银行转账，此时当两个转账操作结束后，B 的总金额为其原金额加上 A 与 C 转给其的金额总数。即 A 转账 B 和 C 转账 B 两个事务相互隔离，当 A、C 没有确认提交之前，两者转账的钱具有隔离性。</li>\n</ul>\n<h4 id=\"持久性durability\"><a class=\"markdownIt-Anchor\" href=\"#持久性durability\">#</a> 持久性 (Durability)</h4>\n<ul>\n<li>一个事务一旦提交，他对数据库的修改应该永久保存在数据库中。</li>\n<li>例如：当 A 把钱转账到 B 账户上时，双方的账户金额在数据库中就会永久保存。</li>\n</ul>\n<h3 id=\"隔离的一些问题\"><a class=\"markdownIt-Anchor\" href=\"#隔离的一些问题\">#</a> 隔离的一些问题</h3>\n<h4 id=\"脏读\"><a class=\"markdownIt-Anchor\" href=\"#脏读\">#</a> 脏读</h4>\n<ul>\n<li><strong>指一个事务读取了另一个事务未提交的数据</strong></li>\n</ul>\n<h4 id=\"不可重复读\"><a class=\"markdownIt-Anchor\" href=\"#不可重复读\">#</a> 不可重复读</h4>\n<ul>\n<li><strong>在一个事务内读取表中的某一行数据，多次读取结果不同（不一定是错误，只是场合不对）</strong></li>\n</ul>\n<h4 id=\"幻读\"><a class=\"markdownIt-Anchor\" href=\"#幻读\">#</a> 幻读</h4>\n<ul>\n<li><strong>指在一个事务内读到了别的事务插入的数据，导致前后读取不一致</strong></li>\n</ul>\n<h3 id=\"事务的使用\"><a class=\"markdownIt-Anchor\" href=\"#事务的使用\">#</a> 事务的使用</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- 在默认状态下 MySQL 是开启事务自动提交的</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">SET</span> autocommit <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\">-- 关闭</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">SET</span> autocommit <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token comment\">-- 开启</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">-- 手动处理事务</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">SET</span> autocommit <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\">-- 关闭自动提交</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">-- 事务开启</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">START</span> <span class=\"token keyword\">TRANSACTION</span> <span class=\"token comment\">-- 标记一个事务的开始，从这里为一个事务内的 SQL</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">INSERT</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">-- 提交：持久化，即成功</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">COMMIT</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">-- 回滚：回到原来的样子，即失败</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">ROLLBACK</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">-- 事务结束</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token keyword\">SET</span> autocommit <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token comment\">-- 开启</span></pre></td></tr></table></figure><h2 id=\"索引index\"><a class=\"markdownIt-Anchor\" href=\"#索引index\">#</a> 索引 (Index)</h2>\n<h3 id=\"何为索引\"><a class=\"markdownIt-Anchor\" href=\"#何为索引\">#</a> 何为索引？</h3>\n<ul>\n<li><strong>索引是存储引擎用于快速找到记录的一种数据结构.</strong></li>\n<li>最常见的例子为<mark>书本的目录</mark>，我们在一本很厚的书中，需要通过目录找到需要的知识，可以快速精确定位到第几页中，不必一页一页的查找，提高查询效率</li>\n</ul>\n<h3 id=\"索引分类\"><a class=\"markdownIt-Anchor\" href=\"#索引分类\">#</a> 索引分类</h3>\n<ul>\n<li><strong>主键索引</strong>\n<ul>\n<li>PRIMARY KEY, 主键不可重复，一个表只有一列可作为主键</li>\n</ul>\n</li>\n<li><strong>唯一索引</strong>\n<ul>\n<li>UNIQUE KEY，唯一索引的使用可以重复，但不可出现相同字段的唯一索引</li>\n</ul>\n</li>\n<li><strong>常规索引</strong>\n<ul>\n<li>INDEX/KEY</li>\n</ul>\n</li>\n<li><strong>全文索引</strong>\n<ul>\n<li>FULLTEXT，只有在 <code>MyISAM</code>  数据库引擎下才有，可快速定位数据</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"基本语法\"><a class=\"markdownIt-Anchor\" href=\"#基本语法\">#</a> 基本语法</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- 索引的使用</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">-- 1. 再创建表的时候给字段增加索引</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">-- 2. 创建完毕后，增加索引</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">-- 显示索引的索引信息</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">INDEX</span> <span class=\"token keyword\">FROM</span> student</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">-- 增加一个全文索引</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> school<span class=\"token punctuation\">.</span>student <span class=\"token keyword\">ADD</span> FULLTEXT <span class=\"token keyword\">INDEX</span> <span class=\"token punctuation\">`</span>studentName<span class=\"token punctuation\">`</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>studentName<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">-- EXPLAIN 分析 sql 执行情况</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">EXPLAIN</span> <span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> student<span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 非全文索引</span></pre></td></tr></table></figure><h3 id=\"索引原则\"><a class=\"markdownIt-Anchor\" href=\"#索引原则\">#</a> 索引原则</h3>\n<ul>\n<li><strong>索引并不是越多越好</strong></li>\n<li><strong>不要对进程变得数据加索引</strong></li>\n<li><strong>小数据量的表不需要加索引</strong></li>\n<li><strong>素养一把加在常用来查询的字段上</strong></li>\n</ul>\n<h3 id=\"索引背后的数据结构\"><a class=\"markdownIt-Anchor\" href=\"#索引背后的数据结构\">#</a> 索引背后的数据结构</h3>\n<blockquote>\n<p>参考文档：<span class=\"exturl\" data-url=\"aHR0cDovL2Jsb2cuY29kaW5nbGFicy5vcmcvYXJ0aWNsZXMvdGhlb3J5LW9mLW15c3FsLWluZGV4Lmh0bWw=\">http://blog.codinglabs.org/articles/theory-of-mysql-index.html</span></p>\n</blockquote>\n<h2 id=\"权限管理与备份\"><a class=\"markdownIt-Anchor\" href=\"#权限管理与备份\">#</a> 权限管理与备份</h2>\n<h3 id=\"权限管理的作用\"><a class=\"markdownIt-Anchor\" href=\"#权限管理的作用\">#</a> 权限管理的作用</h3>\n<ol>\n<li>可以限制用户访问哪些库、哪些表</li>\n<li>可以限制用户对哪些表执行 SELECT、CREATE、DELETE、DELETE、ALTER 等操作</li>\n<li>可以限制用户登录的 IP 或域名</li>\n<li>可以限制用户自己的权限是否可以授权给别的用户</li>\n</ol>\n<h3 id=\"mysql连接权限\"><a class=\"markdownIt-Anchor\" href=\"#mysql连接权限\">#</a> MYSQL 连接权限</h3>\n<ul>\n<li><strong>主要依据：</strong>\n<ul>\n<li>你从哪里来？ host</li>\n<li>你是谁？ user</li>\n<li>你的密码是多少？ password</li>\n</ul>\n</li>\n<li>通过用户提供的这三个信息，存储 MySQL 库中的 user 表中</li>\n</ul>\n<h3 id=\"mysql执行权限的检查顺序\"><a class=\"markdownIt-Anchor\" href=\"#mysql执行权限的检查顺序\">#</a> MySQL 执行权限的检查顺序</h3>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/20/sR4ytA.png\" alt=\"quanxian\"></p>\n<h3 id=\"用户管理\"><a class=\"markdownIt-Anchor\" href=\"#用户管理\">#</a> 用户管理</h3>\n<h4 id=\"创建用户\"><a class=\"markdownIt-Anchor\" href=\"#创建用户\">#</a> 创建用户</h4>\n<ul>\n<li>\n<p><strong>有两种方式创建 MySQL 授权用户</strong></p>\n<ul>\n<li>\n<p><mark>方法一、通过 insert 语句直接操作 MySQL 系统权限表</mark></p>\n</li>\n<li>\n<p><mark>方法二、执行 create user/grant 命令（推荐）</mark></p>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"创建语法\"><a class=\"markdownIt-Anchor\" href=\"#创建语法\">#</a> 创建语法</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">create</span> <span class=\"token keyword\">user</span> <span class=\"token punctuation\">[</span>用户名<span class=\"token punctuation\">]</span>@<span class=\"token punctuation\">[</span>访问地址<span class=\"token punctuation\">]</span> identified <span class=\"token keyword\">by</span> <span class=\"token punctuation\">[</span>密码<span class=\"token punctuation\">]</span></pre></td></tr></table></figure><h4 id=\"授权语法\"><a class=\"markdownIt-Anchor\" href=\"#授权语法\">#</a> 授权语法</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">grant</span> <span class=\"token punctuation\">[</span>权限<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>权限<span class=\"token number\">2</span><span class=\"token punctuation\">,</span>权限<span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">on</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">to</span> <span class=\"token keyword\">user</span><span class=\"token variable\">@'host'</span> identified <span class=\"token keyword\">by</span> <span class=\"token string\">'password'</span></pre></td></tr></table></figure><blockquote>\n<p>详细资料参考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNjU2MDA4\">https://cloud.tencent.com/developer/article/1656008</span></p>\n</blockquote>\n<h2 id=\"数据库规范\"><a class=\"markdownIt-Anchor\" href=\"#数据库规范\">#</a> 数据库规范</h2>\n<h3 id=\"三大范式\"><a class=\"markdownIt-Anchor\" href=\"#三大范式\">#</a> 三大范式</h3>\n<h4 id=\"第一范式1nf\"><a class=\"markdownIt-Anchor\" href=\"#第一范式1nf\">#</a> 第一范式 (1NF)</h4>\n<ul>\n<li>原子性，保证每一列不再可分</li>\n</ul>\n<h4 id=\"第二范式2nf\"><a class=\"markdownIt-Anchor\" href=\"#第二范式2nf\">#</a> 第二范式 (2NF)</h4>\n<ul>\n<li>必要前提：<mark>满足第一范式</mark></li>\n<li>每张表只描述一件事情</li>\n</ul>\n<h4 id=\"第三范式3nf\"><a class=\"markdownIt-Anchor\" href=\"#第三范式3nf\">#</a> 第三范式 (3NF)</h4>\n<ul>\n<li>必要前提： <mark>满足第一、第二范式</mark></li>\n<li>第三范式需要确保数据表中的每一列数据和主键直接相关，而<mark>不能间接相关</mark></li>\n</ul>\n<h3 id=\"规范与性能的问题\"><a class=\"markdownIt-Anchor\" href=\"#规范与性能的问题\">#</a> 规范与性能的问题</h3>\n<ul>\n<li><strong>关联查询的表不可超过三张</strong>\n<ul>\n<li>考虑商业化的需求和目标</li>\n<li>适当考虑规范性</li>\n<li>故意给某些表增加一些冗余的字段</li>\n<li>故意增加一些计算列</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"jdbc-重点\"><a class=\"markdownIt-Anchor\" href=\"#jdbc-重点\">#</a> JDBC (重点)</h2>\n<h3 id=\"数据库驱动\"><a class=\"markdownIt-Anchor\" href=\"#数据库驱动\">#</a> 数据库驱动</h3>\n<ul>\n<li>图解：<br>\n<img data-src=\"https://s3.ax1x.com/2021/01/20/sf8EGt.png\" alt=\"qudong\"></li>\n</ul>\n<h3 id=\"java数据库连接jdbc\"><a class=\"markdownIt-Anchor\" href=\"#java数据库连接jdbc\">#</a> Java 数据库连接（JDBC）</h3>\n<ul>\n<li>Java 数据库连接（JDBC）是 Java 编程语言的应用程序编程接口（API），它定义了客户端如何访问数据库。<mark>它是用于 Java 数据库连接的基于 Java 的数据访问技术</mark>。它是 Oracle Corporation 的 Java Standard Edition 平台的一部分。它提供了查询和更新数据库中数据的方法，并且面向关系数据库。</li>\n</ul>\n<h3 id=\"编程步骤\"><a class=\"markdownIt-Anchor\" href=\"#编程步骤\">#</a> 编程步骤</h3>\n<ol>\n<li><strong>加载驱动程序</strong></li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span>driverClass<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// 加载 MySql 驱动</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"com.mysql.jdbc.Driver\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// 加载 Oracle 驱动</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"oracle.jdbc.driver.OracleDriver\"</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ol start=\"2\">\n<li><strong>获得数据库连接</strong></li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">DriverManager</span><span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jdbc:mysql://127.0.0.1:3306/abc\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"root\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ol start=\"3\">\n<li><strong>创建 Statement\\PreparedStatement 对象：</strong></li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>conn<span class=\"token punctuation\">.</span><span class=\"token function\">createStatement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>conn<span class=\"token punctuation\">.</span><span class=\"token function\">prepareStatement</span><span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li><strong>总结：</strong>\n<ul>\n<li>加载驱动</li>\n<li>连接数据库 <code>DriverManager</code></li>\n<li>获得执行 sql 对象  <code>statement</code></li>\n<li>获得返回的结果集</li>\n<li>释放连接</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"主要java代码\"><a class=\"markdownIt-Anchor\" href=\"#主要java代码\">#</a> 主要 java 代码</h3>\n<h4 id=\"drivermanager\"><a class=\"markdownIt-Anchor\" href=\"#drivermanager\">#</a> DriverManager</h4>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//DriverManager.registerDriver(new com.mysql.jdbc.Driver());</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"com.mysql.jdbc.Driver\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">Connection</span> connection <span class=\"token operator\">=</span> <span class=\"token class-name\">DriverManager</span><span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span>username<span class=\"token punctuation\">,</span>password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">//connection 代表数据库</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// 数据库设置自动提交</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>connection<span class=\"token punctuation\">.</span><span class=\"token function\">setAutoCommit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// 事务提交</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>connection<span class=\"token punctuation\">.</span><span class=\"token function\">commit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// 事务回滚</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>connection<span class=\"token punctuation\">.</span><span class=\"token function\">rollback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h4 id=\"url\"><a class=\"markdownIt-Anchor\" href=\"#url\">#</a> URL</h4>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">String</span> url <span class=\"token operator\">=</span> <span class=\"token string\">\"jdbc:mysql://localhost:3306/jdbcstudy......\"</span><span class=\"token comment\">// 按照实际的数据库 url 填写</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// 3306 为 mysql 数据库的端口号</span></pre></td></tr></table></figure><h4 id=\"statement执行sql的对象-preparestatement执行sql的对象\"><a class=\"markdownIt-Anchor\" href=\"#statement执行sql的对象-preparestatement执行sql的对象\">#</a> statement 执行 SQL 的对象 PrepareStatement 执行 SQL 的对象</h4>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">String</span> sql <span class=\"token operator\">=</span> <span class=\"token string\">\"SELECT * FROM users\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 编写 SQL</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>statement<span class=\"token punctuation\">.</span><span class=\"token function\">executeQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 查询潮州返回的结果集 ResultSet</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>statement<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 执行任何 SQL</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>statement<span class=\"token punctuation\">.</span><span class=\"token function\">executeUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 为增删改使用</span></pre></td></tr></table></figure><h4 id=\"resultset-查询的结果集封装了所有查询结果\"><a class=\"markdownIt-Anchor\" href=\"#resultset-查询的结果集封装了所有查询结果\">#</a> ResultSet 查询的结果集，封装了所有查询结果</h4>\n<ul>\n<li>\n<p>获得指定的数据类型</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">getObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 在不知道列类型的情况下使用</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// 以下为指导列类型使用</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">getInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure></li>\n<li>\n<p>遍历</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">beforeFirst</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 移到最前面</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">afterLast</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 移到最后面</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 移到下一个数据</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">previous</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 移到前一行</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">absoulute</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 移动到指定行</span></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"释放资源\"><a class=\"markdownIt-Anchor\" href=\"#释放资源\">#</a> 释放资源</h4>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>statement<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>connection<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"statement对象\"><a class=\"markdownIt-Anchor\" href=\"#statement对象\">#</a> statement 对象</h3>\n<blockquote>\n<p>参考资料：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vRWFzb25KaW0vcC82OTk0MDE0Lmh0bWw=\">https://www.cnblogs.com/EasonJim/p/6994014.html</span></p>\n</blockquote>\n",
            "tags": [
                "MySQL"
            ]
        },
        {
            "id": "https://peter-pan001.github.io/my-blog/MySQL/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80",
            "url": "https://peter-pan001.github.io/my-blog/MySQL/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80",
            "title": "MySQL数据库",
            "date_published": "2021-01-12T02:48:03.000Z",
            "content_html": "<h2 id=\"认识数据库\"><a class=\"markdownIt-Anchor\" href=\"#认识数据库\">#</a> 认识数据库</h2>\n<ul>\n<li>数据库 (DataBase), 即数据存储的仓库，一个数据库由多个表空间组成</li>\n<li>用户可在数据库中对库中的表进行增删改查的操作</li>\n</ul>\n<h2 id=\"数据库管理系统dbms\"><a class=\"markdownIt-Anchor\" href=\"#数据库管理系统dbms\">#</a> 数据库管理系统（DBMS）</h2>\n<ul>\n<li>具有管理数据库的一种软件系统，<mark>具有存储、截取、安全保障、数据备份</mark>等功能</li>\n</ul>\n<h2 id=\"数据库分类\"><a class=\"markdownIt-Anchor\" href=\"#数据库分类\">#</a> 数据库分类</h2>\n<h3 id=\"什么是关系模式\"><a class=\"markdownIt-Anchor\" href=\"#什么是关系模式\">#</a> 什么是关系模式</h3>\n<ul>\n<li>关系的描述称为关系模式（Relation Schema）它可以形式化地表示为：\n<ul>\n<li>R（U，D，dom，F）</li>\n</ul>\n</li>\n<li><mark>其中 R 为关系名，U 为组成该关系的属性名集合，D 为属性组 U 中属性所来自的域，dom 为属性向域的映象集合，F 为属性间数据的依赖关系集合。</mark></li>\n<li>通常简记为：\n<ul>\n<li>R (U) 或 R (A1，A2，…,An)</li>\n<li>其中 R 为关系名，U 为属性名集合，A1，A2，…,An 为各属性名。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"什么是关系模型\"><a class=\"markdownIt-Anchor\" href=\"#什么是关系模型\">#</a> 什么是关系模型</h3>\n<ul>\n<li>关系实际上就是关系模式在某一时刻的状态或内容。也就是说，关系模式是型，关系是它的值。关系模式是静态的、稳定的，而关系是动态的、随时间不断变化的，因为关系操作在不断地更新着数据库中的数据。但在实际当中，常常把关系模式和关系统称为关系，读者可以从上下文中加以区别。</li>\n</ul>\n<h3 id=\"关系型数据库\"><a class=\"markdownIt-Anchor\" href=\"#关系型数据库\">#</a> 关系型数据库</h3>\n<h4 id=\"定义\"><a class=\"markdownIt-Anchor\" href=\"#定义\">#</a> 定义</h4>\n<ul>\n<li><mark>采用了关系模型来组织数据的数据库，其以行和列的形式存储数据，以便于用户理解，关系型数据库这一系列的行和列被称为表，一组表组成了数据库。</mark></li>\n</ul>\n<hr>\n<ul>\n<li>MySQL</li>\n<li>Oracle</li>\n<li>SQL Server</li>\n<li>SQLite</li>\n<li>DB2</li>\n</ul>\n<h3 id=\"非关系型数据库\"><a class=\"markdownIt-Anchor\" href=\"#非关系型数据库\">#</a> 非关系型数据库</h3>\n<h4 id=\"定义-2\"><a class=\"markdownIt-Anchor\" href=\"#定义-2\">#</a> 定义</h4>\n<ul>\n<li><mark>NoSQL，泛指非关系型的数据库。随着互联网 web2.0 网站的兴起，传统的关系数据库在处理 web2.0 网站，特别是超大规模和高并发的 SNS 类型的 web2.0 纯动态网站已经显得力不从心，出现了很多难以克服的问题，而非关系型的数据库则由于其本身的特点得到了非常迅速的发展。NoSQL 数据库的产生就是为了解决大规模数据集合多重数据种类带来的挑战，特别是大数据应用难题。</mark></li>\n</ul>\n<hr>\n<ul>\n<li>Redis</li>\n<li>MongoDB</li>\n</ul>\n<h2 id=\"关于mysql\"><a class=\"markdownIt-Anchor\" href=\"#关于mysql\">#</a> 关于 MySQL</h2>\n<ul>\n<li>原开发者为瑞典的 MySQL AB 公司，该公司于 2008 年被昇阳微系统（Sun Microsystems）收购。2009 年，甲骨文公司（Oracle）收购昇阳微系统公司，MySQL 成为 Oracle 旗下产品。</li>\n<li><mark>开源的数据库系统软件</mark></li>\n<li><mark>最好的 RDBMS (Relational DataBase Manager System) 关系型数据库管理系统</mark></li>\n<li>体积小，速度快，开发成本低等优点，多用于中小型网站的开发，大型网站用到集群</li>\n</ul>\n<h2 id=\"mysql安装\"><a class=\"markdownIt-Anchor\" href=\"#mysql安装\">#</a> MySQL 安装</h2>\n<ul>\n<li>官网下载压缩包</li>\n</ul>\n<blockquote>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubXlzcWwuY29tL2NuL2Rvd25sb2Fkcy8=\">https://www.mysql.com/cn/downloads/</span></p>\n</blockquote>\n<ul>\n<li>解压</li>\n<li>把解压包放在电脑环境目录下</li>\n<li>配置环境变量</li>\n<li>新建 MySQL 配置文件 <code>ini</code><figure class=\"highlight ini\"><figcaption data-lang=\"ini\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token selector\">[mysqld]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># 目录按个人的来</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token constant\">basedir</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>E:\\software\\mysql-5.02.11\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token constant\">datadir</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>E:\\software\\mysql-5.02.11\\data\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token constant\">port</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>3306</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>skip-grant-tables</pre></td></tr></table></figure></li>\n<li>启动管理员运行，运行 CMD 命令\n<ul>\n<li>先把命令路径切换至 mysql 下的 bin 命令然后输入 <code>mysqld -install</code></li>\n<li>再输入 <code>mysqld --initialize-insecure --user=mysql</code>  初始化数据文件</li>\n<li>然后再次启动 mysql，用命令 <code>mysql -u root -p</code>  进入 mysql 管理界面</li>\n<li>进入界面更改 root 密码</li>\n<li><code>update mysql.user set authentication_string=password('123456') where user='root' and Host = 'localhost';</code></li>\n<li>然后输入 <code>flush privileges</code>  刷新权限</li>\n</ul>\n</li>\n<li>修改 <code>my.ini</code>  文件删除最后一句 <code>skip-grant-tables</code></li>\n<li>重启 mysql 即可使用\n<ul>\n<li><code>net stop mysql</code></li>\n<li><code>net start mysql</code></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"数据库使用\"><a class=\"markdownIt-Anchor\" href=\"#数据库使用\">#</a> 数据库使用</h2>\n<h3 id=\"使用命令行连接数据库\"><a class=\"markdownIt-Anchor\" href=\"#使用命令行连接数据库\">#</a> 使用命令行连接数据库</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mysql <span class=\"token operator\">-</span>uroot <span class=\"token operator\">-</span>p123456 <span class=\"token comment\">-- 连接数据库</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">update</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">user</span> <span class=\"token keyword\">set</span> authentication_string<span class=\"token operator\">=</span>password<span class=\"token punctuation\">(</span><span class=\"token string\">'123456'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">where</span> <span class=\"token keyword\">user</span><span class=\"token operator\">=</span><span class=\"token string\">'root'</span> <span class=\"token operator\">and</span> Host <span class=\"token operator\">=</span> <span class=\"token string\">'localhost'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 修改用户密码</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>flush <span class=\"token keyword\">privileges</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 刷新权限</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">show</span> <span class=\"token keyword\">databases</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 查看所有数据库</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>mysql<span class=\"token operator\">></span> <span class=\"token keyword\">use</span> college <span class=\"token comment\">-- 切换数据库 + use 关键字 + 数据库名</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">Database</span> changed</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">show</span> <span class=\"token keyword\">tables</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 查看数据库中所有的表</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">describe</span> student<span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 显示数据库中所有表信息</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">create</span> <span class=\"token keyword\">database</span> stuRepo<span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 创建一个数据库</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">exit</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 退出连接</span></pre></td></tr></table></figure><h3 id=\"操作数据库\"><a class=\"markdownIt-Anchor\" href=\"#操作数据库\">#</a> 操作数据库</h3>\n<ul>\n<li><strong>创库</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">DATABASE</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">IF</span> <span class=\"token operator\">NOT</span> EXIST<span class=\"token punctuation\">]</span> stuRepo<span class=\"token punctuation\">;</span></pre></td></tr></table></figure></li>\n<li><strong>删库</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">DATABASE</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">IF</span> EXIST<span class=\"token punctuation\">]</span> stuRepo<span class=\"token punctuation\">;</span></pre></td></tr></table></figure></li>\n<li><strong>使用数据库</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">use</span> <span class=\"token string\">'stuRepo'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure></li>\n<li><strong>查看数据库</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">show</span> <span class=\"token keyword\">Databases</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"数据库的数据类型\"><a class=\"markdownIt-Anchor\" href=\"#数据库的数据类型\">#</a> 数据库的数据类型</h3>\n<h4 id=\"数值型\"><a class=\"markdownIt-Anchor\" href=\"#数值型\">#</a> 数值型</h4>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">类型</th>\n<th style=\"text-align:center\">适用范围</th>\n<th style=\"text-align:center\">大小</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>tinyint</code></td>\n<td style=\"text-align:center\">极小的整数</td>\n<td style=\"text-align:center\">1 字节</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>smallint</code></td>\n<td style=\"text-align:center\">较小的整数</td>\n<td style=\"text-align:center\">2 字节</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>mediumint</code></td>\n<td style=\"text-align:center\">中等的整数</td>\n<td style=\"text-align:center\">3 字节</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>int</code></td>\n<td style=\"text-align:center\">标准的整数</td>\n<td style=\"text-align:center\">4 字节</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>bigint</code></td>\n<td style=\"text-align:center\">较大的整数</td>\n<td style=\"text-align:center\">8 字节</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>float</code></td>\n<td style=\"text-align:center\">浮点数</td>\n<td style=\"text-align:center\">4 字节</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>double</code></td>\n<td style=\"text-align:center\">双精度浮点数</td>\n<td style=\"text-align:center\">8 字节</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>decimal</code></td>\n<td style=\"text-align:center\">字符串形式的浮点数</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"字符串\"><a class=\"markdownIt-Anchor\" href=\"#字符串\">#</a> 字符串</h4>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">类型</th>\n<th style=\"text-align:center\">解释</th>\n<th style=\"text-align:center\">数值范围</th>\n<th style=\"text-align:center\">备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>char</code></td>\n<td style=\"text-align:center\">字符串固定大小的</td>\n<td style=\"text-align:center\">0~255</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>varchar</code></td>\n<td style=\"text-align:center\">可变字符串</td>\n<td style=\"text-align:center\">0~65535</td>\n<td style=\"text-align:center\">最常用的变量如 String</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>tinytext</code></td>\n<td style=\"text-align:center\">微型文本</td>\n<td style=\"text-align:center\">2^8-1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>text</code></td>\n<td style=\"text-align:center\">文本串</td>\n<td style=\"text-align:center\">2^16-1</td>\n<td style=\"text-align:center\">存储大文本</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"时间日期型\"><a class=\"markdownIt-Anchor\" href=\"#时间日期型\">#</a> 时间日期型</h4>\n<ul>\n<li>出自 <code>java.util.Date</code>  包</li>\n<li></li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">类型</th>\n<th style=\"text-align:center\">格式</th>\n<th style=\"text-align:center\">解释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>date</code></td>\n<td style=\"text-align:center\">YYYY-MM-DD</td>\n<td style=\"text-align:center\">日期格式</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>time</code></td>\n<td style=\"text-align:center\">HH:mm:ss</td>\n<td style=\"text-align:center\">时间格式</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>datatime</code></td>\n<td style=\"text-align:center\">YYYY-MM-DD HH:mm:ss</td>\n<td style=\"text-align:center\">最常见的时间格式</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>timestamp</code></td>\n<td style=\"text-align:center\">即时间戳</td>\n<td style=\"text-align:center\">1970.1.1 至今的毫秒数</td>\n</tr>\n<tr>\n<td style=\"text-align:center\" colspan=\"2\"><code>year</code></td>\n<td style=\"text-align:center\">年份表示</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"null\"><a class=\"markdownIt-Anchor\" href=\"#null\">#</a> NULL</h4>\n<ul>\n<li>无数值</li>\n<li>不可使用 <code>NULL</code>  进行运算，结果为 <code>NULL</code></li>\n</ul>\n<h3 id=\"数据库字段属性\"><a class=\"markdownIt-Anchor\" href=\"#数据库字段属性\">#</a> 数据库字段属性</h3>\n<ul>\n<li><strong>Unsigned</strong>\n<ul>\n<li>无符号的整数</li>\n<li>声明了该列不可为 <strong>负数</strong></li>\n</ul>\n</li>\n<li><strong>zerofill</strong>\n<ul>\n<li>0 填充的</li>\n<li>不足的位数，使用 0 来填充</li>\n</ul>\n</li>\n<li><strong>自增</strong> (AUTO_INCREMENT)\n<ul>\n<li>通常理解为自增，自动在上一条记录的属性上加 1（默认）</li>\n<li>通常用来设计唯一的主键 (如 id、index 等)，必须为整数类型</li>\n<li>可以自定义设计主键自增的起始值和步长</li>\n</ul>\n</li>\n<li><strong>非空</strong> (NOT_NULL)\n<ul>\n<li>若字段设置为非空，则不给该字段赋值，系统报错</li>\n<li>NULL，不填写默认为空</li>\n</ul>\n</li>\n<li><strong>默认</strong> (DEFAULT)</li>\n</ul>\n<h2 id=\"表的操作\"><a class=\"markdownIt-Anchor\" href=\"#表的操作\">#</a> 表的操作</h2>\n<h3 id=\"创表\"><a class=\"markdownIt-Anchor\" href=\"#创表\">#</a> 创表</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- 业务：创建一个 school 数据库</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">-- 然后创建学生表，使用 SQL 语句创建</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">-- 关键点：</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">-- 使用英文的 (), 表名和字段名尽量使用 `` 括起来</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">--AUTO_INCREMENT 自增</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">--PRIMARY KEY 主键，一个表只有一个主键</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">DATABASE</span> <span class=\"token keyword\">IF</span> <span class=\"token operator\">NOT</span> <span class=\"token keyword\">EXISTS</span> <span class=\"token punctuation\">`</span>school<span class=\"token punctuation\">`</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">use</span> <span class=\"token punctuation\">`</span>school<span class=\"token punctuation\">`</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token operator\">NOT</span> <span class=\"token keyword\">EXISTS</span> <span class=\"token punctuation\">`</span>student<span class=\"token punctuation\">`</span> &#123;</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'学号'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">22</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'匿名'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'姓名'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">`</span>pwd<span class=\"token punctuation\">`</span> <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'123'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'密码'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">`</span>sex<span class=\"token punctuation\">`</span> <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'女'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'性别'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">`</span>birthday<span class=\"token punctuation\">`</span> <span class=\"token keyword\">DATETIME</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'出生日期'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>&#125;<span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span>INNOOB <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>UTF8</pre></td></tr></table></figure><h4 id=\"标准格式\"><a class=\"markdownIt-Anchor\" href=\"#标准格式\">#</a> 标准格式</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">IF</span> <span class=\"token operator\">NOT</span> <span class=\"token keyword\">EXISTS</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">`</span>表名<span class=\"token punctuation\">`</span>&#123;</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token punctuation\">`</span>字段名<span class=\"token number\">1</span><span class=\"token punctuation\">`</span> 列类型 <span class=\"token punctuation\">[</span>属性<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>索引<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>注释<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token punctuation\">`</span>字段名<span class=\"token number\">2</span><span class=\"token punctuation\">`</span> 列类型 <span class=\"token punctuation\">[</span>属性<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>索引<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>注释<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>&#125;<span class=\"token punctuation\">[</span>表类型<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>字符集设置<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>注释<span class=\"token punctuation\">]</span></pre></td></tr></table></figure><h3 id=\"查看库与表的语句\"><a class=\"markdownIt-Anchor\" href=\"#查看库与表的语句\">#</a> 查看库与表的语句</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">DATABASE</span> school <span class=\"token comment\">-- 查看创建数据库的语句</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> student <span class=\"token comment\">-- 查看 student 数据库中表的定义语句</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">DESC</span> student <span class=\"token comment\">-- 显示表的结构</span></pre></td></tr></table></figure><h3 id=\"数据表类型\"><a class=\"markdownIt-Anchor\" href=\"#数据表类型\">#</a> 数据表类型</h3>\n<h4 id=\"数据库引擎\"><a class=\"markdownIt-Anchor\" href=\"#数据库引擎\">#</a> 数据库引擎</h4>\n<ul>\n<li><strong>定义：</strong>\n<ul>\n<li><mark>数据库引擎是用于存储、处理和保护数据的核心服务。利用数据库引擎可控制访问权限并快速处理事务，从而满足企业内大多数需要处理大量数据的应用程序的要求。 使用数据库引擎创建用于联机事务处理或联机分析处理数据的关系数据库。</mark></li>\n</ul>\n</li>\n<li>目前常用的（必记的）\n<ul>\n<li><code>INNODB</code>  默认使用</li>\n<li><code>MYISAM</code>  早期使用的</li>\n</ul>\n</li>\n<li><strong>两者区别</strong></li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"><code>MYISAM</code></th>\n<th style=\"text-align:center\"><code>INNODB</code></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">事务支持</td>\n<td style=\"text-align:center\">不支持</td>\n<td style=\"text-align:center\">支持</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">数据行锁定</td>\n<td style=\"text-align:center\">不支持</td>\n<td style=\"text-align:center\">支持</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">外键约束</td>\n<td style=\"text-align:center\">不支持</td>\n<td style=\"text-align:center\">支持</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">全文索引</td>\n<td style=\"text-align:center\">支持</td>\n<td style=\"text-align:center\">不支持</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">表空间的大小</td>\n<td style=\"text-align:center\">较小</td>\n<td style=\"text-align:center\">较大，约为 MYISAM 的两倍</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li><strong>使用特点</strong>\n<ul>\n<li>对于 <code>MYISAM</code>  而言，可节约空间，高速运行</li>\n<li>对于 <code>INNODB</code>  而言，安全性高，可实现多表多用户操作</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>在物理环境中存在的位置<br>\n索引的数据库文件都存储在 data 文件目录下，一个文件夹对应一个数据库<br>\n本质上是文件的存储</p>\n</blockquote>\n<ul>\n<li><strong>两个数据库引擎在物理上的区别</strong>\n<ul>\n<li><code>INNODB</code>  在数据库表中只有一个 <code>*.frm</code>  文件，以及上级目录下的 <code>ibdata1</code>  文件</li>\n<li><code>MYISAM</code>  对应文件\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">文件后缀</th>\n<th style=\"text-align:center\">解释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>*.frm</code></td>\n<td style=\"text-align:center\">表结构定义文件</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>*.MYD</code></td>\n<td style=\"text-align:center\">数据文件 data</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>*.MYI</code></td>\n<td style=\"text-align:center\">索引文件 index</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"编码问题\"><a class=\"markdownIt-Anchor\" href=\"#编码问题\">#</a> 编码问题</h3>\n<ul>\n<li><strong>设置编码 (创表的 SQL 语句中)</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8</pre></td></tr></table></figure></li>\n<li>不设置 utf-8，<mark>MYSQL 默认编码为 Latin1，且不支持中文</mark></li>\n<li>也可在 <code>my.ini</code>  配置文件中设置默认编码（但不推荐，因为非本机操作数据库会失效）<figure class=\"highlight ini\"><figcaption data-lang=\"ini\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token constant\">character-set-server</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>utf8</span></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"增加与删除表字段\"><a class=\"markdownIt-Anchor\" href=\"#增加与删除表字段\">#</a> 增加与删除表字段</h3>\n<h4 id=\"修改表名称\"><a class=\"markdownIt-Anchor\" href=\"#修改表名称\">#</a> 修改表名称</h4>\n<ul>\n<li><strong>举例：</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> person <span class=\"token keyword\">RENAME</span> <span class=\"token keyword\">AS</span> man</pre></td></tr></table></figure></li>\n<li><strong>标准格式</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">[</span>表名称<span class=\"token punctuation\">]</span>  <span class=\"token keyword\">RENAME</span> <span class=\"token keyword\">AS</span> <span class=\"token punctuation\">[</span>新表的名称<span class=\"token punctuation\">]</span></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"增加表字段\"><a class=\"markdownIt-Anchor\" href=\"#增加表字段\">#</a> 增加表字段</h4>\n<ul>\n<li><strong>举例：</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> teacher <span class=\"token keyword\">ADD</span> age <span class=\"token keyword\">INT</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span><span class=\"token comment\">-- 增加 teacher 表的年龄字段</span></pre></td></tr></table></figure></li>\n<li><strong>标准格式:</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">[</span>表名称<span class=\"token punctuation\">]</span> <span class=\"token keyword\">ADD</span> <span class=\"token punctuation\">[</span>字段名<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>字段属性<span class=\"token punctuation\">]</span></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"修改表字段修改约束与重命名\"><a class=\"markdownIt-Anchor\" href=\"#修改表字段修改约束与重命名\">#</a> 修改表字段 (修改约束与重命名)</h4>\n<ul>\n<li><strong>举例：</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> JOB <span class=\"token keyword\">MODIFY</span> salary <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 修改约束</span></pre></td></tr></table></figure></li>\n<li><strong>标准格式：</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">[</span>表名称<span class=\"token punctuation\">]</span> <span class=\"token keyword\">MODIFY</span> <span class=\"token punctuation\">[</span>字段名<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>字段属性<span class=\"token punctuation\">]</span></pre></td></tr></table></figure></li>\n<li><strong>举例：</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> JOB CHANGE salary salary1 <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 字段重命名 salary 为原字段名</span></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"删除表字段\"><a class=\"markdownIt-Anchor\" href=\"#删除表字段\">#</a> 删除表字段</h4>\n<ul>\n<li><strong>举例：</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> JOB <span class=\"token keyword\">DROP</span> salary1</pre></td></tr></table></figure></li>\n<li><strong>标准格式：</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">[</span>表名称<span class=\"token punctuation\">]</span> <span class=\"token keyword\">DROP</span> <span class=\"token punctuation\">[</span>字段名<span class=\"token punctuation\">]</span></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"删除表\"><a class=\"markdownIt-Anchor\" href=\"#删除表\">#</a> 删除表</h4>\n<ul>\n<li><strong>标准格式：</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> JOB</pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"数据管理\"><a class=\"markdownIt-Anchor\" href=\"#数据管理\">#</a> 数据管理</h2>\n<h3 id=\"外键foreign-key\"><a class=\"markdownIt-Anchor\" href=\"#外键foreign-key\">#</a> 外键 (Foreign key)</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- 为学生表的 gradeid 添加年级表的 gradeid 外键</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">DATABASE</span> <span class=\"token keyword\">IF</span> <span class=\"token operator\">NOT</span> <span class=\"token keyword\">EXISTS</span> <span class=\"token punctuation\">`</span>school<span class=\"token punctuation\">`</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">use</span> <span class=\"token punctuation\">`</span>school<span class=\"token punctuation\">`</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token operator\">NOT</span> <span class=\"token keyword\">EXISTS</span> <span class=\"token punctuation\">`</span>student<span class=\"token punctuation\">`</span> &#123;</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'学号'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">22</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'匿名'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'姓名'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token punctuation\">`</span>pwd<span class=\"token punctuation\">`</span> <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'123'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'密码'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">`</span>sex<span class=\"token punctuation\">`</span> <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'女'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'性别'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">`</span>gradeid<span class=\"token punctuation\">`</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">15</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'年级'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">`</span>birthday<span class=\"token punctuation\">`</span> <span class=\"token keyword\">DATETIME</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'出生日期'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>&#125;<span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span>INNOOB <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>UTF8</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">-- 添加外键</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">`</span>student<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">ADD</span> <span class=\"token keyword\">CONSTRAINT</span> <span class=\"token punctuation\">`</span>FK_gradeid<span class=\"token punctuation\">`</span> <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>gradeid<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> <span class=\"token punctuation\">`</span>grade<span class=\"token punctuation\">`</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>gradeid<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li><strong>标准格式：</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 表名  <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">CONSTRAINT</span> 约束名 <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span>作为外键的列<span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> 引用的表名<span class=\"token punctuation\">(</span>引用的表的字段<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li><mark>不建议使用外键约束，而是在应用层进行代码的约束</mark></li>\n<li><mark>外键约束对后期程序的开发有很大的影响，对 <code>update</code>  和 <code>delete</code>  操作都会有更大的麻烦</mark></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"dml-数据管理语言\"><a class=\"markdownIt-Anchor\" href=\"#dml-数据管理语言\">#</a> DML 数据管理语言</h3>\n<h4 id=\"添加insert\"><a class=\"markdownIt-Anchor\" href=\"#添加insert\">#</a> 添加 insert</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> <span class=\"token punctuation\">`</span>表名<span class=\"token punctuation\">`</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>字段名<span class=\"token number\">1</span><span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>字段名<span class=\"token number\">2</span><span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>字段名<span class=\"token number\">3</span><span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'值1'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'值2'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'值3'</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ul>\n<li><mark>左边字段的个数与右边值的个数要相同，并且数据类型要一一对应</mark></li>\n</ul>\n<h4 id=\"修改update\"><a class=\"markdownIt-Anchor\" href=\"#修改update\">#</a> 修改 update</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">update</span> <span class=\"token punctuation\">`</span>表名<span class=\"token punctuation\">`</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">`</span>列名<span class=\"token number\">1</span><span class=\"token punctuation\">`</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">`</span>值<span class=\"token number\">1</span><span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>列名<span class=\"token number\">2</span><span class=\"token punctuation\">`</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">`</span>值<span class=\"token number\">2</span><span class=\"token punctuation\">`</span> <span class=\"token keyword\">where</span> 条件</pre></td></tr></table></figure><ul>\n<li><mark>没有 where 子句后的条件，会默认修改所有列</mark></li>\n<li><mark>value 既可以是一个值，也可以是一个变量</mark></li>\n</ul>\n<h4 id=\"删除delete\"><a class=\"markdownIt-Anchor\" href=\"#删除delete\">#</a> 删除 delete</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">delete</span> <span class=\"token keyword\">from</span> 表名 <span class=\"token keyword\">where</span> 条件</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">--where 子句可写可不写，按照实际要求决定，where 实际上相当于一个删除的约束</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">-- 不写 where 则会删除整个表的数据</span></pre></td></tr></table></figure><h4 id=\"清空truncate\"><a class=\"markdownIt-Anchor\" href=\"#清空truncate\">#</a> 清空 truncate</h4>\n<ul>\n<li><strong>只是清空表里的数据，表的结构和字段不会改变</strong></li>\n</ul>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- 清空 JOB 表</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">truncate</span> <span class=\"token punctuation\">`</span>JOB<span class=\"token punctuation\">`</span></pre></td></tr></table></figure><h4 id=\"delete与truncate的区别\"><a class=\"markdownIt-Anchor\" href=\"#delete与truncate的区别\">#</a> delete 与 truncate 的区别</h4>\n<ul>\n<li><mark>都可删除数据，但都不影响表结构</mark></li>\n<li><mark>不同点：</mark>\n<ul>\n<li><code>truncate</code>  重新设置自增列，计时器会归零 不会影响事务</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"dql数据查询语言\"><a class=\"markdownIt-Anchor\" href=\"#dql数据查询语言\">#</a> DQL 数据查询语言</h3>\n<ul>\n<li>\n<p>数据查询语言 DQL 基本结构是由 SELECT 子句，FROM 子句，WHERE 子句组成的查询块：</p>\n<ul>\n<li>\n<p>SELECT &lt;字段名表&gt;</p>\n</li>\n<li>\n<p>FROM &lt;表或视图名&gt;</p>\n</li>\n<li>\n<p>WHERE &lt;查询条件&gt;</p>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"指定查询字段\"><a class=\"markdownIt-Anchor\" href=\"#指定查询字段\">#</a> 指定查询字段</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- 查询全部学生</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> student</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">-- 查询指定字段</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">select</span> <span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token keyword\">from</span> student</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">-- 别名，为某个表或字段起一个别名</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">select</span> <span class=\"token punctuation\">`</span>employeeName<span class=\"token punctuation\">`</span> <span class=\"token keyword\">AS</span> 员工姓名 <span class=\"token keyword\">from</span> employee <span class=\"token keyword\">AS</span> e</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">-- 函数 Concat（a,b）</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">select</span> CONCAT<span class=\"token punctuation\">(</span><span class=\"token string\">'员工姓名：'</span><span class=\"token punctuation\">,</span>employeeName<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> 新列名 <span class=\"token keyword\">from</span> employee</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">-- 输出的格式会为 员工姓名：张三</span></pre></td></tr></table></figure><h4 id=\"去重distinct\"><a class=\"markdownIt-Anchor\" href=\"#去重distinct\">#</a> 去重 distinct</h4>\n<ul>\n<li>筛选出表中重复的数据，只显示一个</li>\n</ul>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">select</span> <span class=\"token keyword\">distinct</span> <span class=\"token punctuation\">`</span>employeeNo<span class=\"token punctuation\">`</span> <span class=\"token keyword\">from</span> employee</pre></td></tr></table></figure><h4 id=\"where条件子句\"><a class=\"markdownIt-Anchor\" href=\"#where条件子句\">#</a> Where 条件子句</h4>\n<ul>\n<li>作用：为了筛选出需要的数据，即添加条件</li>\n<li><mark>通过逻辑运算符配合使用！！！</mark>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">运算符</th>\n<th style=\"text-align:center\">语法</th>\n<th style=\"text-align:center\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>and</code>   <code>&amp;&amp;</code></td>\n<td style=\"text-align:center\">a  <code>and</code>  b  a <code>&amp;&amp;</code> b</td>\n<td style=\"text-align:center\">逻辑与，两个都为真，结果为真</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>or</code>   <code>||</code></td>\n<td style=\"text-align:center\">a  <code>or</code>  b  a  <code>||</code>  b</td>\n<td style=\"text-align:center\">逻辑或，其中一个为真，则结果为真</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>not</code>   <code>!</code></td>\n<td style=\"text-align:center\"><code>not</code>  a   <code>!</code>  a</td>\n<td style=\"text-align:center\">逻辑非，真为假，假为真</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<h4 id=\"模糊查询\"><a class=\"markdownIt-Anchor\" href=\"#模糊查询\">#</a> 模糊查询</h4>\n<ul>\n<li>\n<p>在 MySQL 中，LIKE 关键字主要用于搜索匹配字段中的指定内容。其语法格式如下：</p>\n<ul>\n<li><code>[NOT] LIKE  '字符串'</code></li>\n</ul>\n</li>\n<li>\n<p>其中：</p>\n<ul>\n<li>\n<p><code>NOT</code>  ：可选参数，字段中的内容与指定的字符串不匹配时满足条件。<br>\n字符串：指定用来匹配的字符串。“字符串” 可以是一个很完整的字符串，也可以包含通配符。</p>\n</li>\n<li>\n<p><code>LIKE</code>   关键字支持百分号 “%” 和下划线 “_” 通配符。</p>\n</li>\n</ul>\n</li>\n<li>\n<p><mark>通配符是一种特殊语句，主要用来模糊查询。当不知道真正字符或者懒得输入完整名称时，可以使用通配符来代替一个或多个真正的字符。</mark></p>\n</li>\n<li>\n<p><strong>模糊查询通常会使用到比较运算符</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">运算符</th>\n<th style=\"text-align:center\">语法</th>\n<th style=\"text-align:center\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>IS NULL</code></td>\n<td style=\"text-align:center\">a is null</td>\n<td style=\"text-align:center\">如果操作符为 <code>NULL</code> , 则结果为真</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>IS NOT NULL</code></td>\n<td style=\"text-align:center\">a is not null</td>\n<td style=\"text-align:center\">如果操作符不为 <code>NULL</code> , 则结果为真</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>BETWEEN</code></td>\n<td style=\"text-align:center\">a between b and c</td>\n<td style=\"text-align:center\">若 a 在 b 与 c 之间，则结果为真</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>LIKE</code></td>\n<td style=\"text-align:center\">a like b</td>\n<td style=\"text-align:center\">如果 a 匹配 b，则结果为真</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>IN</code></td>\n<td style=\"text-align:center\">a in (a1,a2,a3…)</td>\n<td style=\"text-align:center\">假设 a 在 a1，或 a2… 其中的某一个值中，则结果为真</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p><strong>模糊查询的 SQL 语句实例</strong></p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- 查询姓刘的同学</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">-- like 结婚 %（岱庙 0 到任意个字符） _（代表一个字符）</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">`</span>student<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'刘%'</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">-- 查询姓刘的同学，姓后面为一个字的</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">`</span>student<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'刘_'</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">-- 查询姓刘的同学，姓后面为两个字的</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">`</span>student<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'刘__'</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">-- 查询名字中间为欣字的同学 % 欣 %</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">`</span>student<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token operator\">LIKE</span> <span class=\"token string\">'%欣%'</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">-- 查询 1001、1002、1003 号学员</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">`</span>student<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span> <span class=\"token operator\">IN</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1001</span><span class=\"token punctuation\">,</span><span class=\"token number\">1002</span><span class=\"token punctuation\">,</span><span class=\"token number\">1003</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">-- 查询地址为空的学生 null</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">`</span>student<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">`</span>address<span class=\"token punctuation\">`</span><span class=\"token operator\">=</span><span class=\"token string\">''</span> <span class=\"token operator\">OR</span> <span class=\"token punctuation\">`</span>address<span class=\"token punctuation\">`</span> <span class=\"token operator\">IS</span> <span class=\"token boolean\">NULL</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">-- 查询有出生日期的同学 not null</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">`</span>student<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">`</span>birthday<span class=\"token punctuation\">`</span> <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"联表查询重要\"><a class=\"markdownIt-Anchor\" href=\"#联表查询重要\">#</a> 联表查询（重要！）</h4>\n<ul>\n<li><strong>联表查询的种类</strong></li>\n</ul>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/18/syrWa4.jpg\" alt=\"joinlist\"></p>\n<ul>\n<li>\n<p><code>inner join</code>  <strong>内连接</strong> ，两个表中都匹配时返回行</p>\n</li>\n<li>\n<p><code>left join</code>  <strong>左连接</strong> ，即使左侧表中没有匹配项，也返回左侧表中的所有行。</p>\n</li>\n<li>\n<p><code>RIGHT JOIN</code>  <strong>右连接</strong> ， 即使左侧表中没有匹配项，也返回右侧表中的所有行。</p>\n</li>\n<li>\n<p><code>FULL JOIN</code>  <strong>全连接</strong>， 它合并了左右外部联接的结果。</p>\n</li>\n<li>\n<p><mark>联接的表将包含两个表中的所有记录，并为任一侧缺少的匹配项填充 NULL。</mark></p>\n</li>\n<li>\n<p><code>SELF JOIN</code>  <strong>自连接</strong>， 用于将一个表连接到自身，就好像该表是两个表一样，在 SQL 语句中临时重命名至少一个表。</p>\n</li>\n<li>\n<p><code>CARTESIAN JOIN</code>  <strong>笛卡尔连接</strong> 从两个或多个联接表中返回记录集的笛卡尔积。</p>\n</li>\n<li>\n<p><strong>联表图解</strong></p>\n</li>\n</ul>\n<p><img data-src=\"https://s3.ax1x.com/2021/01/18/sysNS1.png\" alt=\"joindetails\"></p>\n<ul>\n<li>\n<p><strong>代码示例：</strong></p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- inner join</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">SELECT</span> s<span class=\"token punctuation\">.</span>studentId <span class=\"token punctuation\">,</span>studentName<span class=\"token punctuation\">,</span>subNo<span class=\"token punctuation\">,</span>stuRes <span class=\"token keyword\">FROM</span> student <span class=\"token keyword\">AS</span> s </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> result <span class=\"token keyword\">AS</span> r </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">ON</span> s<span class=\"token punctuation\">.</span>studentId <span class=\"token operator\">=</span> r<span class=\"token punctuation\">.</span>studentId</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">--right join</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">SELECT</span> s<span class=\"token punctuation\">.</span>studentId <span class=\"token punctuation\">,</span>studentName<span class=\"token punctuation\">,</span>subNo<span class=\"token punctuation\">,</span>stuRes <span class=\"token keyword\">FROM</span> student <span class=\"token keyword\">AS</span> s </pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">RIGHT</span> <span class=\"token keyword\">JOIN</span> result <span class=\"token keyword\">AS</span> r </pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">ON</span> s<span class=\"token punctuation\">.</span>studentId <span class=\"token operator\">=</span> r<span class=\"token punctuation\">.</span>studentId  </pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">--left join</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">SELECT</span> s<span class=\"token punctuation\">.</span>studentId <span class=\"token punctuation\">,</span>studentName<span class=\"token punctuation\">,</span>subNo<span class=\"token punctuation\">,</span>stuRes <span class=\"token keyword\">FROM</span> student <span class=\"token keyword\">AS</span> s </pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> result <span class=\"token keyword\">AS</span> r </pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">ON</span> s<span class=\"token punctuation\">.</span>studentId <span class=\"token operator\">=</span> r<span class=\"token punctuation\">.</span>studentId</pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"分页和排序\"><a class=\"markdownIt-Anchor\" href=\"#分页和排序\">#</a> 分页和排序</h4>\n<ul>\n<li><strong>排序：</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- 排序： 升序 ASC，降序 DESC</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">-- ORDER BY 通过字段排序</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">-- 查询的结构根据成绩降序</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">SELECT</span> s<span class=\"token punctuation\">.</span><span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>subName<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>subRes<span class=\"token punctuation\">`</span> <span class=\"token keyword\">FROM</span> </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>student s</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> <span class=\"token punctuation\">`</span>result<span class=\"token punctuation\">`</span> r</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">ON</span> s<span class=\"token punctuation\">.</span><span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span> <span class=\"token operator\">=</span> r<span class=\"token punctuation\">.</span><span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> <span class=\"token punctuation\">`</span>subject<span class=\"token punctuation\">`</span> sub</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">ON</span> r<span class=\"token punctuation\">.</span><span class=\"token punctuation\">`</span>subId<span class=\"token punctuation\">`</span> <span class=\"token operator\">=</span> sub<span class=\"token punctuation\">.</span><span class=\"token punctuation\">`</span>subId<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">`</span>subName<span class=\"token punctuation\">`</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">`</span>数据库<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> subRes <span class=\"token keyword\">ASC</span></pre></td></tr></table></figure></li>\n<li><strong>分页：</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">-- 分页的目的：让用户观看更加舒服，也减轻数据库的压力，无需一次性输出所有数据</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">-- 分页的效果：在一个网页中显示部分数据，给数据分页显示</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">-- 语法：limit 起始值，页面大小</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">-- 例如：limit 0,3 即从第一个数据到第四个数据</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">SELECT</span> s<span class=\"token punctuation\">.</span><span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>subName<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>subRes<span class=\"token punctuation\">`</span> <span class=\"token keyword\">FROM</span> </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>student s</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> <span class=\"token punctuation\">`</span>result<span class=\"token punctuation\">`</span> r</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">ON</span> s<span class=\"token punctuation\">.</span><span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span> <span class=\"token operator\">=</span> r<span class=\"token punctuation\">.</span><span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> <span class=\"token punctuation\">`</span>subject<span class=\"token punctuation\">`</span> sub</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">ON</span> r<span class=\"token punctuation\">.</span><span class=\"token punctuation\">`</span>subId<span class=\"token punctuation\">`</span> <span class=\"token operator\">=</span> sub<span class=\"token punctuation\">.</span><span class=\"token punctuation\">`</span>subId<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">`</span>subName<span class=\"token punctuation\">`</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">`</span>数据库<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> subRes <span class=\"token keyword\">ASC</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">LIMIT</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">-- 第一页 limit 0,5 (1-1)*5</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">-- 第二页 limit 5,5 (2-1)*5</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">-- 第 n 页 limit     (n-1)*pagesize,pagesize</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">-- pageSize: 页面大小</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">-- (n-1)*pageSize: 起始值</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">-- n：当前值</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">-- 数据总数 / 页面大小 = 总页数</span></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"分组和过滤\"><a class=\"markdownIt-Anchor\" href=\"#分组和过滤\">#</a> 分组和过滤</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">HAVING</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h4 id=\"子查询\"><a class=\"markdownIt-Anchor\" href=\"#子查询\">#</a> 子查询</h4>\n<ul>\n<li>子查询是<font color=red>将一个查询语句嵌套在另一个查询语句中；</font></li>\n<li>在特定情况下，一个查询语句的条件需要另一个查询语句来获取，<mark>内层查询（inner query）语句</mark>的查询结果，可以为<mark>外层查询（outer query）语句</mark>提供查询条件。</li>\n<li><strong>代码示例</strong><figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">DISTINCT</span> s<span class=\"token punctuation\">.</span><span class=\"token punctuation\">`</span>studentId<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">FROM</span> student s</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> result r</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">ON</span> r<span class=\"token punctuation\">.</span>studentId <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span>studentId</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">`</span>studentRes<span class=\"token punctuation\">`</span><span class=\"token operator\">>=</span><span class=\"token number\">80</span> <span class=\"token operator\">AND</span> <span class=\"token punctuation\">`</span>subId<span class=\"token punctuation\">`</span> <span class=\"token operator\">=</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">SELECT</span> subId <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">`</span>subject<span class=\"token punctuation\">`</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">`</span>subName<span class=\"token punctuation\">`</span> <span class=\"token operator\">=</span><span class=\"token string\">'高数'</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"mysql常用函数\"><a class=\"markdownIt-Anchor\" href=\"#mysql常用函数\">#</a> MySQL 常用函数</h3>\n<h4 id=\"数学运算\"><a class=\"markdownIt-Anchor\" href=\"#数学运算\">#</a> 数学运算</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> ABS<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 绝对值</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">SELECT</span> CEILING<span class=\"token punctuation\">(</span><span class=\"token number\">8.4</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 向上取整</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">SELECT</span> FLOOR<span class=\"token punctuation\">(</span><span class=\"token number\">8.4</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 向下取整</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">SELECT</span> RAND<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 返回一个 0~1 内的随机数</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">SELECT</span> SIGN<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 判断一个数的符号  负数返回 - 1 正数返回 1</span></pre></td></tr></table></figure><h4 id=\"字符串函数\"><a class=\"markdownIt-Anchor\" href=\"#字符串函数\">#</a> 字符串函数</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> CHAR_LENGTH<span class=\"token punctuation\">(</span><span class=\"token string\">'adhsakdajsx'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 求字符串长度</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">SELECT</span> CONCAT<span class=\"token punctuation\">(</span><span class=\"token string\">'We'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'are'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'family'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 拼接字符串 Wearefamily</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">INSERT</span><span class=\"token punctuation\">(</span><span class=\"token string\">'这是一个美好的故事'</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span><span class=\"token string\">'动人的'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 查询，从某个位置开始替换长度 这是一个动人的故事</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">SELECT</span> LOWER<span class=\"token punctuation\">(</span><span class=\"token string\">'PETERPAN'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 小写字母</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">SELECT</span> UPPER<span class=\"token punctuation\">(</span><span class=\"token string\">'peterpan'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 大写字母</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">SELECT</span> INSTR<span class=\"token punctuation\">(</span><span class=\"token string\">'peterpan'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'e'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 返回第一个出现的子串的索引</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">REPLACE</span><span class=\"token punctuation\">(</span><span class=\"token string\">'未上岸'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'未'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'已'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 替换出现指定的字符串 已上岸</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">SELECT</span> SUBSTR<span class=\"token punctuation\">(</span><span class=\"token string\">'只要努力就能成功'</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 返回指定的子字符串 努力就能成功</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">SELECT</span> REVERSE<span class=\"token punctuation\">(</span><span class=\"token string\">'大家早上好'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 反转 好上早家大</span></pre></td></tr></table></figure><h4 id=\"时间与日期函数\"><a class=\"markdownIt-Anchor\" href=\"#时间与日期函数\">#</a> 时间与日期函数</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">CURRENT_DATE</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 获取当前日期</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">SELECT</span> CURDATE<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 获取当前日期</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 获取当前时间</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">SELECT</span> LOCALTIME<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 本地时间</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">SELECT</span> SYSDATE<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 系统时间</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">YEAR</span><span class=\"token punctuation\">(</span><span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 当前年份</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">MONTH</span><span class=\"token punctuation\">(</span><span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 当前月份</span></pre></td></tr></table></figure><h4 id=\"系统\"><a class=\"markdownIt-Anchor\" href=\"#系统\">#</a> 系统</h4>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SYSTEM_USER</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 获取系统管理者</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">USER</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">-- 获取用户</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">SELECT</span> VERSION<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">-- 获取版本</span></pre></td></tr></table></figure><h3 id=\"常用的聚合函数\"><a class=\"markdownIt-Anchor\" href=\"#常用的聚合函数\">#</a> 常用的聚合函数</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">函数</th>\n<th style=\"text-align:center\">解释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>count()</code></td>\n<td style=\"text-align:center\">计数</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>sum()</code></td>\n<td style=\"text-align:center\">求和</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>avg()</code></td>\n<td style=\"text-align:center\">求平均值</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>max()</code></td>\n<td style=\"text-align:center\">求最大值</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>min()</code></td>\n<td style=\"text-align:center\">求最小值</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>具体参考 MYSQL 官方文档：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXYubXlzcWwuY29tL2RvYy9yZWZtYW4vOC4wL2VuL2Z1bmN0aW9uLXJlc29sdXRpb24uaHRtbA==\">https://dev.mysql.com/doc/refman/8.0/en/function-resolution.html</span></p>\n</blockquote>\n",
            "tags": [
                "MySQL"
            ]
        },
        {
            "id": "https://peter-pan001.github.io/my-blog/MySQL/%E5%85%B3%E4%BA%8EMySQL%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8",
            "url": "https://peter-pan001.github.io/my-blog/MySQL/%E5%85%B3%E4%BA%8EMySQL%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8",
            "title": "关于MySQL的一些基本使用",
            "date_published": "2020-10-25T13:09:50.000Z",
            "content_html": "<h2 id=\"mysql数据库软件\"><a class=\"markdownIt-Anchor\" href=\"#mysql数据库软件\">#</a> MySQL 数据库软件</h2>\n<h3 id=\"关于配置conf\"><a class=\"markdownIt-Anchor\" href=\"#关于配置conf\">#</a> 关于配置（conf）</h3>\n<ul>\n<li>MySQL 服务的启动与停止\n<ul>\n<li>手动通过应用程序启动</li>\n<li>或者通过 cmd 配置命令启动\n<ul>\n<li>cmd  -&gt; services.msc -&gt;MySQL</li>\n</ul>\n</li>\n<li>或者 cmd 管理员模式启动\n<ul>\n<li>net stop MySQL</li>\n<li>net start MySQL</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"关于登录与退出\"><a class=\"markdownIt-Anchor\" href=\"#关于登录与退出\">#</a> 关于登录与退出</h3>\n<ul>\n<li>\n<p>一般的 MySQL 版本：</p>\n<ul>\n<li>登录命令\n<ul>\n<li>cmd 中，在 mysql 安装目录下输入： <code>mysql -uroot -p密码</code></li>\n<li>然后根据提示输入密码（为此前安装时设置的密码）</li>\n</ul>\n</li>\n<li>退出：\n<ul>\n<li>直接输入 <code>exit</code>  或者 <code>quit</code>  即可</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>如果是 MySQL8.0 版本的：</p>\n<ul>\n<li>在特定的 SQL Commands line client 窗口中直接输入密码登录</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"关于目录结构\"><a class=\"markdownIt-Anchor\" href=\"#关于目录结构\">#</a> 关于目录结构</h3>\n<ul>\n<li>MySQL 安装目录<!-- ![Mysql_dir.png](http://ww1.sinaimg.cn/large/007uxMgDgy1gizq3tu941j30pl0h4jrp.jpg) -->\n</li>\n</ul>\n<p><img data-src=\"https://i.loli.net/2020/10/26/cB35g8iFSYVZ2zw.png\" alt=\"Mysql_dir.png\"></p>\n<ul>\n<li><strong>bin</strong>：存放一些二进制文件以及一些 exe 文件，服务类和基础类的</li>\n<li><strong>data</strong>：存放日志文件、数据文件的</li>\n<li><strong>share</strong>：存放 MySQL 一些错误数据</li>\n</ul>\n",
            "tags": [
                "MySQL"
            ]
        }
    ]
}